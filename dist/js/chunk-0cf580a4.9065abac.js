(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cf580a4"],{"07c9":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user_posts",class:{"user_posts--no_border_bottom":t.posts&&!t.posts.length}},[n("div",{staticClass:"user_posts__title"},[t._v("Комментарии пользователя "+t._s(t.username))]),t.posts?t.posts.length?n("scroll-load",{attrs:{loading:t.loadingPosts},on:{loadNext:t.loadNewPosts}},[t._l(t.posts,(function(e,s){return n("thread-post",{key:"thread-post-"+e.id,class:{"post--last":s===t.posts.length-1},attrs:{post:e,"show-thread":!0,"click-for-post":!0}})})),t.loadingPosts?t._l(t.nextPostsCount,(function(t){return n("thread-post-placeholder",{key:"thread-post-placeholder-"+t})})):t._e()],2):[t._v("Нет комментариев")]:[t.posts?t._e():n("thread-post-placeholder")]],2)},o=[],a=(n("4de4"),n("7db0"),n("caad"),n("d81d"),n("b0c0"),n("2532"),n("2909")),i=n("8674"),r=n("1c59"),c=n("eba0"),u=n("c4b0"),l=n.n(u),p=n("bd28"),d=n("2fa3"),_={name:"user",props:["username"],components:{ThreadPost:r["a"],ScrollLoad:i["a"],ThreadPostPlaceholder:c["a"]},data:function(){return{posts:null,loadingPosts:!1,nextPostsCount:0,nextURL:""}},methods:{loadNewPosts:function(){var t=this;null!==this.nextURL&&(this.loadingPosts=!0,this.axios.get(this.nextURL).then((function(e){var n;t.loadingPosts=!1,t.posts||(t.posts=[]);var s=t.posts.map((function(t){return t.id})),o=e.data.Posts.filter((function(t){return!s.includes(t.id)}));(n=t.posts).push.apply(n,Object(a["a"])(o)),t.nextURL=e.data.meta.nextURL,t.nextPostsCount=e.data.meta.nextPostsCount}))["catch"]((function(e){t.loadingPosts=!1,l()(t.$store)(e)})))}},created:function(){var t=this;this.axios.get(d["a"]+"/api/v1/user/".concat(this.$route.params.username,"?posts=true")).then((function(e){t.posts=e.data.Posts,t.nextURL=e.data.meta.nextURL,t.nextPostsCount=e.data.meta.nextPostsCount}))["catch"]((function(e){var n=e.response.data.errors.find((function(t){return"accountDoesNotExist"===t.name}));n?t.$store.commit("set404Page",!0):l()(t.$store)(e)})),Object(p["a"])("userPosts",this.$route.params.username)}},h=_,f=(n("a4eb"),n("2877")),v=Object(f["a"])(h,s,o,!1,null,"518ea2aa",null);e["default"]=v.exports},"0a6c":function(t,e,n){},"225f":function(t,e,n){"use strict";var s=n("63a4"),o=n.n(s);o.a},2341:function(t,e,n){"use strict";var s=n("0a6c"),o=n.n(s);o.a},"39d7":function(t,e,n){},"3af9":function(t,e,n){},"3dc9":function(t,e,n){},"44ea":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info_tooltip",on:{mouseenter:function(e){return t.setState(!0)},mouseleave:function(e){return t.setState(!1)}}},[n("div",{staticClass:"info_tooltip__content",class:{"info_tooltip__content--show":t.show,"info_tooltip__content--pointer_events":t.pointerEvents}},[t._t("content")],2),n("div",{staticClass:"info_tooltip__display",class:{"info_tooltip__display--hover":t.show}},[t._t("display")],2)])},o=[],a=(n("4795"),{name:"InfoTooltip",props:["noEvents"],data:function(){return{show:!1,pointerEvents:!1}},methods:{setState:function(t){var e=this;this.noEvents||(t?(this.pointerEvents=!0,this.show=!0,this.$emit("hover")):(this.show=!1,setTimeout((function(){e.show||(e.pointerEvents=!1)}),300)))}}}),i=a,r=(n("b067"),n("2877")),c=Object(r["a"])(i,s,o,!1,null,null,null);e["a"]=c.exports},4795:function(t,e,n){var s=n("23e7"),o=n("da84"),a=n("342f"),i=[].slice,r=/MSIE .\./.test(a),c=function(t){return function(e,n){var s=arguments.length>2,o=s?i.call(arguments,2):void 0;return t(s?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};s({global:!0,bind:!0,forced:r},{setTimeout:c(o.setTimeout),setInterval:c(o.setInterval)})},5016:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("menu-tooltip",{staticClass:"select_button",class:{"select_button--touch":!t.touchDisabled},model:{value:t.menuOpen,callback:function(e){t.menuOpen=e},expression:"menuOpen"}},[n("template",{slot:"button"},[t.options.length?n("div",{staticClass:"button button--thin_text",class:{"select_button__button--selected":t.menuOpen},on:{click:function(e){t.menuOpen=!0}}},[t._v(" "+t._s(t.options[t.selectedIndex].name)+" "),n("font-awesome-icon",{staticClass:"button__icon select_button__icon",attrs:{icon:["fa","chevron-down"],"fixed-width":""}})],1):n("div",{staticClass:"button"},[t._v(" No options ")])]),n("template",{slot:"menu"},t._l(t.options,(function(e,s){return n("div",{key:"select-button-option-"+e.name+s,staticClass:"select_button__option",class:{"select_button__option--disabled":e.disabled,"select_button__option--selected":s===t.selectedIndex&&!e.disabled},on:{click:function(n){return t.select(s,e.disabled)}}},[t._v(" "+t._s(e.name)+" ")])})),0)],2)},o=[],a=(n("4160"),n("159b"),n("6fab")),i={name:"SelectButton",props:["options","value","name","touch-disabled"],components:{MenuTooltip:a["a"]},methods:{select:function(t,e){e||(this.selectedIndex=t,this.menuOpen=!1,this.$emit("input",this.options[t].value))},getIndexFromValue:function(){var t=0,e=this;return null!==this.value&&this.options.forEach((function(n,s){n.value===e.value&&(t=s)})),t}},data:function(){return{selectedIndex:this.getIndexFromValue(),menuOpen:!1}},watch:{value:function(){this.selectedIndex=this.getIndexFromValue()}}},r=i,c=(n("2341"),n("2877")),u=Object(c["a"])(r,s,o,!1,null,"5c300c04",null);e["a"]=u.exports},"63a4":function(t,e,n){},"6e0b":function(t,e,n){"use strict";var s=n("39d7"),o=n.n(s);o.a},"6fab":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu_tooltip",class:{"menu_tooltip--touch":!t.touchDisabled}},[n("div",{staticClass:"menu_tooltip__overlay",class:{"menu_tooltip__overlay--show":t.value},on:{click:function(e){return t.$emit("input",!1)}}}),t._t("button"),n("div",{staticClass:"menu_tooltip__menu",class:{"menu_tooltip__menu--show":t.value},style:{top:t.top,width:t.width}},[n("div",{staticClass:"menu_tooltip__menu__inner"},[t._t("menu")],2)])],2)},o=[],a={name:"MenuTooltip",props:["value","top","width","touch-disabled"]},i=a,r=(n("6e0b"),n("2877")),c=Object(r["a"])(i,s,o,!1,null,"5bd61e2c",null);e["a"]=c.exports},7442:function(t,e,n){},"80e3":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fancy_input",style:{width:t.width||"auto"}},[n("div",{staticStyle:{position:"relative",display:"inline-block"}},[n("div",{staticClass:"fancy_input__placeholder",class:{"fancy_input__placeholder--active":t.active||t.value.length,"fancy_input__placeholder--large":t.large}},[t._v(" "+t._s(t.placeholder)+" ")]),n("input",{staticClass:"fancy_input__input input",class:{"fancy_input__input--large":t.large,"fancy_input__input--error":t.error},attrs:{type:t.type||"text"},domProps:{value:t.value},on:{input:function(e){return t.updateValue(e.target.value)},focus:t.addActive,blur:t.removeActive}})]),n("error-tooltip",{attrs:{error:t.error}})],1)},o=[],a=n("e145"),i={name:"FancyInput",props:["value","placeholder","width","type","error","large"],components:{ErrorTooltip:a["a"]},data:function(){return{active:!1}},methods:{updateValue:function(t){this.$emit("input",t)},addActive:function(){this.active=!0},removeActive:function(){this.active=!1}}},r=i,c=(n("9946"),n("2877")),u=Object(c["a"])(r,s,o,!1,null,"e8a0c810",null);e["a"]=u.exports},9098:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("info-tooltip",{staticClass:"avatar_icon",attrs:{noEvents:null===t.user}},[n("template",{slot:"content"},[t.userData?[n("div",{staticClass:"avatar_icon__header"},[n("div",{staticClass:"avatar_icon__icon avatar_icon__icon--small picture_circle",style:{"background-color":t.proxyUser.color,"background-image":t.pictureURL},on:{click:t.goToUser}},[t._v(" "+t._s(t.letter)+" ")]),n("div",{staticClass:"avatar_icon__header_info"},[n("span",{staticClass:"avatar_icon__username",on:{click:function(e){return e.stopPropagation(),t.goToUser(e)}}},[t._v(" "+t._s(t.proxyUser.username)+" "),t.proxyUser.admin?n("span",{staticClass:"admin_badge"},[t._v("администратор")]):t._e()])])])]:[t._v("Загрузка...")]],2),n("div",{staticClass:"avatar_icon__icon picture_circle",class:{"avatar_icon__icon--small":"small"===t.size,"avatar_icon__icon--tiny":"tiny"===t.size},style:{"background-color":t.proxyUser.color,"background-image":t.pictureURL},attrs:{slot:"display"},on:{click:function(e){return e.stopPropagation(),t.goToUser(e)}},slot:"display"},[t._v(" "+t._s(t.letter)+" ")])],2)},o=[],a=n("44ea"),i=n("c4b0"),r=n.n(i),c=n("2fa3"),u={name:"AvatarIcon",props:["user","size"],components:{InfoTooltip:a["a"]},data:function(){return{userData:null}},computed:{proxyUser:function(){return this.userData?this.userData:this.user?this.user:{}},letter:function(){return this.proxyUser.username&&!this.proxyUser.picture?this.proxyUser.username[0].toUpperCase():""},pictureURL:function(){return this.proxyUser.picture?"url("+this.proxyUser.picture+")":null}},methods:{loadUser:function(){var t=this;this.userData||null===this.user||this.axios.get(c["a"]+"/api/v1/user/"+this.proxyUser.username).then((function(e){t.userData=e.data}))["catch"](r()(this.$store))},goToUser:function(){null!==this.user&&this.$router.push("/user/"+this.user.username)}},mounted:function(){this.loadUser()}},l=u,p=(n("d465"),n("2877")),d=Object(p["a"])(l,s,o,!1,null,null,null);e["a"]=d.exports},9946:function(t,e,n){"use strict";var s=n("bcc7"),o=n.n(s);o.a},a4eb:function(t,e,n){"use strict";var s=n("7442"),o=n.n(s);o.a},b067:function(t,e,n){"use strict";var s=n("3af9"),o=n.n(s);o.a},bcc7:function(t,e,n){},bd28:function(t,e,n){"use strict";var s=n("bc3a"),o=n.n(s),a=n("2fa3");e["a"]=function(t,e){"userPosts"===t||"userThreads"===t?o.a.get(a["a"]+"/api/v1/user/"+e).then((function(e){return o.a.post(a["a"]+"/api/v1/log",{route:t,resourceId:e.data.id})}))["catch"](console.log):o.a.post(a["a"]+"/api/v1/log",{route:t,resourceId:e})["catch"](console.log)}},d465:function(t,e,n){"use strict";var s=n("3dc9"),o=n.n(s);o.a},e145:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error_tooltip",class:{"error_tooltip--show":t.error}},[t._v(" "+t._s(t.delayed_error)+" ")])},o=[],a=(n("4795"),{name:"ErrorTooltip",props:["error"],data:function(){return{delayed_error:this.error}},watch:{error:function(t){var e=this;t?this.delayed_error=t:setTimeout((function(){e.delayed_error=""}),205)}}}),i=a,r=(n("225f"),n("2877")),c=Object(r["a"])(i,s,o,!1,null,"6281f96c",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-0cf580a4.9065abac.js.map